<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>
    <%= project.title %> | Electric Vehicle Solutions
  </title>
  <link rel="stylesheet" href="/css/main.css" />
</head>

<body>
  <%- include('partials/navbar', {page: '' }) %>

    <div class="container mx-auto px-4 py-10">
      <div class="hero bg-base-200 rounded-lg mb-12">
        <div class="hero-content text-center">
          <div class="max-w-2xl">
            <h1 class="text-5xl font-bold">
              <%= project.title %>
            </h1>
            <p class="py-6">
              Below, you will find detailed info about the project:
              <strong>
                <%= project.title %>
              </strong>
            </p>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
        <div class="flex justify-center">
          <img src="<%= project.feature_img_url %>" alt="Project Image"
            class="rounded-lg shadow-lg max-w-full h-auto" />
        </div>

        <div>
          <h2 class="text-2xl font-semibold mb-4">Project Overview</h2>
          <p class="text-lg leading-relaxed mb-4">
            <%= project.intro_short %>
          </p>

          <h3 class="text-xl font-semibold mb-2">Impact</h3>
          <p class="mb-4">
            <%= project.impact %>
          </p>

          <a href="<%= project.original_source_url %>" target="_blank" class="text-blue-600 underline block mb-6">
            Learn more from the original source
          </a>

          <h3 class="text-xl font-semibold mb-2">Inspirational Quote</h3>
          <blockquote id="random-quote" class="italic text-gray-700">
            Loading quote...
          </blockquote>

          <div class="mt-6">
            <a href="#" onclick="history.back(); return false;"
              class="inline-block px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">
              &larr; Go Back
            </a>

            <% if (session.user) { %>
              <a href="/solutions/editProject/<%= project.id %>"
                class="inline-block px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">
                ✏️ Edit Project
              </a>
              <% } %>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        fetch("https://dummyjson.com/quotes/random")
          .then((res) => res.json())
          .then((data) => {
            document.getElementById(
              "random-quote"
            ).innerHTML = `"${data.quote}" — <strong>${data.author}</strong>`;
          })
          .catch(() => {
            document.getElementById("random-quote").textContent =
              "Unable to load quote.";
          });
      });
    </script>
</body>

</html>