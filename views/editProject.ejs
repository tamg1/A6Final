<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Edit Project: <%= project.title %>
  </title>
  <link rel="stylesheet" href="/css/main.css" />
</head>

<body>
  <%- include('partials/navbar', { page: '' }) %>

    <main class="container mx-auto px-4 py-8">
      <h1 class="text-4xl font-bold mb-6">Edit Project: <%= project.title %>
      </h1>

      <form action="/solutions/editProject" method="POST" class="space-y-6 max-w-2xl">
        <input type="hidden" name="id" value="<%= project.id %>" />

        <div>
          <label for="title" class="block mb-1 font-medium">Project Title</label>
          <input type="text" id="title" name="title" required class="input input-bordered w-full max-w-md"
            value="<%= project.title %>" />
        </div>

        <div>
          <label for="feature_img_url" class="block mb-1 font-medium">Feature Image URL</label>
          <input type="url" id="feature_img_url" name="feature_img_url" required
            class="input input-bordered w-full max-w-md" value="<%= project.feature_img_url %>" />
        </div>

        <div>
          <label for="sector_id" class="block mb-1 font-medium">Sector</label>
          <select id="sector_id" name="sector_id" required class="select select-bordered w-full max-w-md">
            <% sectors.forEach(sector=> { %>
              <option value="<%= sector.id %>" <%=project.sector_id==sector.id ? "selected" : "" %>
                >
                <%= sector.sector_name %>
              </option>
              <% }) %>
          </select>
        </div>

        <div>
          <label for="intro_short" class="block mb-1 font-medium">Intro</label>
          <textarea id="intro_short" name="intro_short" required
            class="textarea textarea-bordered w-full max-w-md"><%- project.intro_short  || '' %></textarea>
        </div>

        <div>
          <label for="summary_short" class="block mb-1 font-medium">Summary</label>
          <textarea id="summary_short" name="summary_short" required
            class="textarea textarea-bordered w-full max-w-md"><%- project.summary_short || '' %></textarea>
        </div>

        <div>
          <label for="impact" class="block mb-1 font-medium">Impact</label>
          <textarea id="impact" name="impact" required
            class="textarea textarea-bordered w-full max-w-md"><%- project.impact || '' %></textarea>
        </div>

        <div>
          <label for="original_source_url" class="block mb-1 font-medium">Original Source URL</label>
          <input type="url" id="original_source_url" name="original_source_url" required
            class="input input-bordered w-full max-w-md" value="<%= project.original_source_url %>" />
        </div>
        <div class="mt-4 flex space-x-4">
          <button type="submit" class="btn btn-primary">Update Project</button>
          <a href="/solutions/deleteProject/<%= project.id %>" class="btn btn-error"
            onclick="return confirm('Are you sure you want to delete this project?');">
            Delete Project
          </a>
        </div>
      </form>
    </main>
</body>

</html>